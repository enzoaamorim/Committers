<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="./IMG/img-committers.png" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.5.1/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    <title>Teste para Sing In</title>

    <!-- Incluindo a biblioteca CryptoJS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>

<body>
    <header class="header">
        <a href="Home.html">
            <img src="../Web/IMG/img-committers.png" alt="Logo do E-commerce" width="40" height="40">
        </a>

        <nav class="nav-links">
            <a href="ProductList.html">Produtos</a>
            <a href="#informacoes">Informações</a>
        </nav>

        <div class="icons">
            <a href="CarrinhoCompras.html" class="compras">
                <span class="material-icons">shopping_cart</span>
            </a>
            <div class="user-menu">
                <a href="SignIn.html">
                    <span class="material-icons user-icon">account_circle</span>
                </a>
            </div>
        </div>
    </header>

    <div id="login">
        <div class="imagem1">
            <img src="../Web/IMG/img-committers.png" alt="Imagem">
        </div>
        <h1>Login</h1>

        <form id="loginForm" onsubmit="return encryptPassword(event)">
            <div class="input-group email">
                <i class="fi fi-rr-envelope"></i>
                <input type="email" placeholder="E-Mail" required>
            </div>

            <div class="input-groupsenha senha">
                <i class="fi fi-rr-lock"></i>
                <input type="password" placeholder="Senha" id="password" required>
            </div>

            <div class="entrar">
                <input type="submit" value="Entrar" id="btnSignin">
                <p>Ainda não tem uma conta? <a href="SignUp.html">Criar conta.</a></p>
            </div>
        </form>
    </div>

    <script src="Js/SignIn.js"></script>
    <script>
        function encryptPassword(event) {
            event.preventDefault(); // Impede o envio do formulário

            const passwordInput = document.getElementById('password');
            const emailInput = document.querySelector('input[type="email"]');
            const password = passwordInput.value;

            // Criptografando a senha
            const encryptedPassword = CryptoJS.AES.encrypt(password, 'sua-chave-secreta').toString();

            // Aqui você pode fazer uma requisição AJAX ou enviar os dados ao servidor
            // Como exemplo, apenas exibindo no console
            console.log("E-mail:", emailInput.value);
            console.log("Senha encriptada:", encryptedPassword);

            // Simular envio para o servidor
            // Exemplo de envio usando fetch (substitua pela sua URL)
            // fetch('sua-url-de-login', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({
            //         email: emailInput.value,
            //         password: encryptedPassword
            //     })
            // }).then(response => {
            //     // Tratar a resposta do servidor
            // }).catch(error => {
            //     console.error('Erro:', error);
            // });

            return false; // Impede o envio do formulário
        }
    </script>
</body>
</html>
